{
  "TASK_QUERY": {
    "input": {
      "properties": {
        "id": {
          "description": "The unique ID of the vector to be used as a query vector",
          "instillFormat": "text",
          "instillUpstreamTypes": [
            "reference",
            "template"
          ],
          "type": "string"
        },
        "include_metadata": {
          "default": false,
          "description": "Indicates whether metadata is included in the response as well as the ids",
          "instillFormat": "boolean",
          "instillUpstreamTypes": [
            "value",
            "reference"
          ],
          "type": "boolean"
        },
        "include_values": {
          "default": false,
          "description": "Indicates whether vector values are included in the response",
          "instillFormat": "boolean",
          "instillUpstreamTypes": [
            "value",
            "reference"
          ],
          "type": "boolean"
        },
        "namespace": {
          "description": "The namespace to query",
          "instillFormat": "text",
          "instillUpstreamTypes": [
            "value",
            "reference",
            "template"
          ],
          "type": "string"
        },
        "top_k": {
          "description": "The number of results to return for each query",
          "instillFormat": "integer",
          "instillUpstreamTypes": [
            "value",
            "reference"
          ],
          "type": "integer"
        },
        "vector": {
          "description": "An array of dimensions for the query vector.",
          "instillFormat": "number_array",
          "instillUpstreamTypes": [
            "reference"
          ],
          "items": {
            "description": "A dimension of the vector",
            "example": 0.8167237,
            "type": "number"
          },
          "minItems": 1,
          "type": "array"
        }
      },
      "required": [
        "top_k"
      ],
      "type": "object"
    },
    "output": {
      "properties": {
        "matches": {
          "description": "The matches returned for the query",
          "instillFormat": "object_array",
          "items": {
            "instillFormat": "object",
            "properties": {
              "id": {
                "description": "The id of the matched vector",
                "instillFormat": "text",
                "type": "string"
              },
              "metadata": {
                "description": "Metadata",
                "instillFormat": "object",
                "type": "object"
              },
              "score": {
                "description": "A measure of similarity between this vector and the query vector. The higher the score, the more they are similar.",
                "instillFormat": "number",
                "type": "number"
              },
              "values": {
                "description": "Vector data values",
                "instillFormat": "number_array",
                "items": {
                  "description": "Each float value represents one dimension",
                  "type": "number"
                },
                "type": "array"
              }
            },
            "type": "object"
          },
          "type": "array"
        },
        "namespace": {
          "description": "The namespace of the query",
          "instillFormat": "text",
          "type": "string"
        }
      },
      "type": "object"
    }
  },
  "TASK_UPSERT": {
    "input": {
      "properties": {
        "id": {
          "description": "This is the vector's unique id",
          "instillFormat": "text",
          "instillUpstreamTypes": [
            "value",
            "reference",
            "template"
          ],
          "type": "string"
        },
        "values": {
          "description": "An array of dimensions for the vector to be saved",
          "instillFormat": "number_array",
          "instillUpstreamTypes": [
            "reference"
          ],
          "items": {
            "description": "A dimension of the vector",
            "example": 0.8167237,
            "type": "number"
          },
          "minItems": 1,
          "type": "array"
        }
      },
      "required": [
        "id",
        "values"
      ],
      "type": "object"
    },
    "output": {
      "properties": {
        "upserted_count": {
          "description": "Number of records modified or added",
          "instillFormat": "integer",
          "type": "integer"
        }
      },
      "type": "object"
    }
  }
}
